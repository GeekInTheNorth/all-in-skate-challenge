@model AllInSkateChallenge.Features.Home.HomePageViewModel

@{
    ViewData["Title"] = "Home";
}

@functions{
    string GetPositionClass(int position)
    {
        switch (position)
        {
            case 1:
                return "leaderboard-position leaderboard-position--first";
            case 2:
                return "leaderboard-position leaderboard-position--second";
            case 3:
                return "leaderboard-position leaderboard-position--third";
            default:
                return "leaderboard-position";
        }
    }
}

<div class="row">
    <div class="col-xl-12 text-center">
        <h1 class="display-4">Welcome to the ALL IN Skate Challenge</h1>
        <p>The ALL IN Skate Challenge is to skate the equivelent of the Leeds Liverpool Canal over the period of one month. 75 skaters have now taken up the challenge and skated a collective 1200 miles.</p>
        <img src="~/images/AllInSkateMapOnly.png" style="max-width: 100%;" />
    </div>
</div>

<div class="row mt-3">
    @if (Model.LeaderBoard != null && Model.LeaderBoard.Entries != null && Model.LeaderBoard.Entries.Any())
    {
        <div class="col-xl-6">
            <h2>Leaderboard</h2>
            <table class="table">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Skater</th>
                        <th scope="col">Total Distance</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var entry in Model.LeaderBoard.Entries)
                    {
                        <tr>
                            <td class="align-middle"><span class="@GetPositionClass(entry.Place)">@entry.Place</span></td>
                            <td class="align-middle"><img class="leaderboard-profile" src="@entry.GravatarUrl?s=48" alt="@entry.Name" /> @entry.Name</td>
                            <td class="align-middle">@entry.TotalMiles.ToString("F2") miles</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }

    @if (Model.LatestUpdates != null && Model.LatestUpdates.Entries != null && Model.LatestUpdates.Entries.Any())
    {
        <div class="col-xl-6">
            <h2>Latest Journeys</h2>
            <table class="table">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">Skater</th>
                        <th scope="col">Logged</th>
                        <th scope="col">Distance</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var entry in Model.LatestUpdates.Entries)
                    {
                        <tr>
                            <td class="align-middle"><img class="leaderboard-profile" src="@entry.GravatarUrl?s=48" alt="@entry.Skater" /> @entry.Skater</td>
                            <td class="align-middle">@entry.Logged.ToString("dd/MM/yyyy HH:mm")</td>
                            <td class="align-middle">@entry.Miles.ToString("F2") miles</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
</div>